# Hierarchical Modeling Demo with Animated Plots

## Description

My “tool” was originally intended to demonstrate two key concepts:

- Effects of nested hierarchical structures
- Fundamentals of hierarchical modeling, including a comparison of a pooled model, unpooled models, and a hierarchical model (with partial pooling)
- 
While performing my analyses, I found that only one level of grouping present in the data actually accounted for any non-negligible variance in the response. As a result, my tool discusses the concept of nested hierarchical structures but only examines one grouping level in great detail.
Secondly, some of the model results presented in my “tool” ended up being a bit counterintuitive. Rather than just fitting the model and calling it a day, I decided to leverage the educational opportunity, discussing what may have led to the results, performing model diagnostics, and testing out how the results would be impacted by a change in sample size.
As a result, I would say that an additional concept illustrated by my “tool” is the importance of skepticism about model results in hierarchical (and non-hierarchical) modeling situations.

The concepts mentioned above are illustrated through the analysis of a
dataset containing information about 20 Major League Baseball (MLB) seasons. 
This analysis provides significant narrative about data processing, exploratory 
data analysis (EDA), and model results, such that the tool may be characterized
as a "clear example illustration" in the words of the assignment. I also 
include some overall explanations / commentary on the principles of hierarchical
modeling. 

Additionally, I was motivating by Michael Clark's visualizations (linked in
the assignment) to produce some animated plots of my own. As a result, I 
used the `gganimate` package to show how random slope estimates in a 
hierarchical model differed from slope estimates in unpooled linear regression
models. It is my hope that the animated plots will help to capture the 
interest of and provide relevant information to those who may be unfamiliar 
with hierarchical modeling.

While I ultimately plan to turn my "tool" into a published blog post or at 
least create a well maintained Github repository to share the work, I have
attached the "tool" as an html file for the purpose of this assignment. I know 
that pdf is often the preferred file format in this course, but the
animated plots do not work properly in pdf, so I apologize for any inconvenience.

<img src="hierarchical_anim_plot.gif?raw=true"/>

## References / Acknowledgements

This project was completed as port of STA 610 (Multilevel and Hierarchical Models) at Duke, taught by Professor Michael Akande.

- [Wikipedia](https://en.wikipedia.org/wiki/Pythagorean_expectation) article
on the pythagorean expectation, a key variable in my analysis
- Fangraphs [website](https://www.fangraphs.com/leaders.aspx?pos=all&stats=pit&lg=all&qual=0&type=0&season=2019&month=0&season1=2000&ind=1&team=0,ts&rost=0&age=0&filter=&players=0&startdate=&enddate=):
Data source for the analysis conducted in this "tool." The search terms listed 
are for one of the two files used to create the final dataset. The other file
can be generated by selecting "Batting" instead of "Pitching" among the options
on the website
- Course [website](http://www2.stat.duke.edu/courses/Fall20/sta523/) for Duke's
STA 523 course in Fall 2020: I referred back to course notes on `gganimate` 
to produce the animated plots of slope confidence intervals by team for the
unpooled and hierarchical models
